# =============================================================================
# AI模型配置 - 支持多个AI提供商进行股票分析和推荐
# =============================================================================

# OpenAI配置 - 用于深度股票分析和智能推荐
OPENAI_API_KEY=your_openai_api_key_here  # OpenAI API密钥，用于GPT模型调用
OPENAI_MODEL=gpt-4-turbo-preview  # 使用的OpenAI模型，推荐gpt-4-turbo-preview获得更好的分析效果

# DeepSeek配置 - 国产AI模型，成本较低，适合大批量分析
DEEPSEEK_API_KEY=your_deepseek_api_key_here  # DeepSeek API密钥
DEEPSEEK_BASE_URL=https://api.deepseek.com  # DeepSeek API基础URL
DEEPSEEK_MODEL=deepseek-chat  # DeepSeek聊天模型

# Google Gemini配置 - Google的AI模型，适合复杂分析任务
GEMINI_API_KEY=your_gemini_api_key_here  # Google Gemini API密钥
GEMINI_MODEL=gemini-pro  # Gemini Pro模型

# AI提供商选择 - 系统默认使用的AI提供商
DEFAULT_AI_PROVIDER=deepseek  # 可选值: openai/deepseek/gemini，建议使用deepseek（成本低）

# =============================================================================
# 数据源配置 - 股票数据获取和缓存设置
# =============================================================================

# 股票数据源配置
STOCK_DATA_SOURCE=akshare  # A股数据源，使用akshare库获取实时和历史数据
UPDATE_INTERVAL=300  # 数据更新间隔（秒），5分钟更新一次股票数据
CACHE_EXPIRY=1800  # 数据缓存过期时间（秒），30分钟后缓存失效

# =============================================================================
# 数据库配置 - 存储分析结果、推荐记录和日志
# =============================================================================

# 数据库连接URL - 支持SQLite和MySQL
DATABASE_URL=sqlite:///./a_stock_analysis.db  # SQLite数据库文件路径
# 如需使用MySQL，格式为: mysql+pymysql://username:password@host:port/database

# =============================================================================
# 应用服务配置 - FastAPI服务器设置
# =============================================================================

# 调试模式 - 开发环境建议开启，生产环境必须关闭
DEBUG=true  # 是否开启调试模式，显示详细错误信息

# 服务器配置
PORT=8000  # 后端API服务端口
HOST=0.0.0.0  # 服务器监听地址，0.0.0.0表示监听所有网络接口

# =============================================================================
# 股票分析配置 - 技术分析和风险评估参数
# =============================================================================

# 分析周期设置
DEFAULT_ANALYSIS_PERIOD=1y  # 默认技术分析周期，1年历史数据

# 风险评估参数
RISK_FREE_RATE=0.025  # 无风险利率（2.5%），基于中国10年期国债收益率
MARKET_BENCHMARK=000001  # 市场基准指数代码（上证指数），用于Beta计算

# 默认股票池 - 系统启动时的示例股票代码
DEFAULT_STOCKS=000158,002261,601933,000564,600150,002456  # 常德股份、拓维信息、永辉超市等优质A股

# =============================================================================
# 流式推荐系统配置 - 实时股票推荐和评分设置
# =============================================================================

# 融合评分配置
CONF_FUSION_ALPHA=0.4  # 融合评分中技术分析的权重（0-1），AI信心度权重为1-alpha
ENABLE_FUSION_SORT=true  # 是否启用融合评分排序，true表示按融合评分排序

# 推荐任务配置
MAX_CONCURRENT_ANALYSIS=5  # 最大并发分析任务数，避免系统过载
TASK_TIMEOUT_SECONDS=300  # 单个分析任务超时时间（秒）
MIN_RECOMMENDATION_SCORE=6.0  # 最低推荐分数阈值（0-10分制）

# 投资建议阈值配置
BUY_THRESHOLD=7.0  # 买入建议的融合分数阈值（0-10分制），≥此分数推荐买入
HOLD_THRESHOLD=4.0  # 持有建议的融合分数阈值（0-10分制），≥此分数且<买入阈值推荐持有

# =============================================================================
# 性能优化配置 - 缓存和调度设置
# =============================================================================

# 性能缓存配置
PERFORMACE_CACHE_TTL=3600  # 性能数据缓存时间（秒），1小时
CACHE_CLEANUP_INTERVAL=1800  # 缓存清理间隔（秒），30分钟

# SSE连接管理
SSE_HEARTBEAT_INTERVAL=30  # SSE心跳间隔（秒），保持连接活跃
SSE_CONNECTION_TIMEOUT=300  # SSE连接超时时间（秒）

# =============================================================================
# 日志配置 - 分析过程记录和调试
# =============================================================================

# 日志级别设置
LOG_LEVEL=INFO  # 日志级别: DEBUG/INFO/WARNING/ERROR
ENABLE_ANALYSIS_LOGGING=true  # 是否启用详细的分析过程日志
LOG_RETENTION_DAYS=30  # 日志保留天数

# =============================================================================
# 安全配置 - API访问控制和限流
# =============================================================================

# API限流配置
RATE_LIMIT_PER_MINUTE=60  # 每分钟API调用次数限制
MAX_WATCHLIST_SIZE=50  # 自选股最大数量限制

# CORS配置
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173,http://localhost:5174,http://localhost:5175,http://localhost:5176  # 允许的前端域名